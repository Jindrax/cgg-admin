(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{c7he:function(o,a,t){"use strict";t.r(a);var i=function(){var o=this,a=o.$createElement,t=o._self._c||a;return t("q-page",{staticClass:"flex flex-top"},[t("div",[t("div",{staticClass:"row"},[t("q-card",{staticClass:"col-12"},[t("q-card-title",[o._v("\n          Reporte\n        ")]),t("q-card-separator"),t("q-card-main",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("q-datetime",{attrs:{"float-label":"Inicio","format-model":"number"},model:{value:o.inicio,callback:function(a){o.inicio=a},expression:"inicio"}})],1),t("div",{staticClass:"col-6"},[t("q-datetime",{attrs:{"float-label":"Fin","format-model":"number"},model:{value:o.fin,callback:function(a){o.fin=a},expression:"fin"}})],1)]),t("br"),t("div",{staticClass:"row"},[t("q-btn",{staticClass:"col-12",attrs:{label:"Generar Reporte",color:"primary"},on:{click:o.update}})],1)])],1)],1),o.total_cobrado>0||o.total_promocional>0||o.total_consumido>0?t("div",{staticClass:"row"},[t("q-card",{staticClass:"col-12"},[t("q-card-title",[o._v("\n          Totales\n        ")]),t("q-card-separator"),t("q-card-main",[t("div",{staticClass:"row"},[o._v("\n            Total Cobrado: "+o._s(o.formatCurrency(o.total_cobrado))+"\n          ")]),t("br"),t("div",{staticClass:"row"},[o._v("\n            Total Promocional: "+o._s(o.formatCurrency(o.total_promocional))+"\n          ")]),t("br"),t("div",{staticClass:"row"},[o._v("\n            Total Consumido: "+o._s(o.formatCurrency(o.total_consumido))+"\n          ")])])],1)],1):o._e(),t("div",{staticClass:"row"},[null!=o.cobrosData?t("q-table",{attrs:{title:"Cobros",data:o.cobrosData,columns:o.cobrosColumns,"row-key":"fecha",pagination:o.cobrosPagination},on:{"update:pagination":function(a){o.cobrosPagination=a}}}):o._e()],1),t("div",{staticClass:"row"},[null!=o.sesionesData?t("q-table",{attrs:{title:"Sesiones",data:o.sesionesData,columns:o.sesionesColumns,"row-key":"inicio",pagination:o.sesionesPagination},on:{"update:pagination":function(a){o.sesionesPagination=a}}}):o._e()],1)])])},e=[];i._withStripped=!0;var l=new Intl.NumberFormat("es-CO",{style:"currency",currency:"USD",minimumFractionDigits:0}),s=t("wd/R");s.locale("es");var n={name:"PageIndex",props:["socket","usuario"],data:function(){return{inicio:null,fin:null,cobrosPagination:{sortBy:"fecha",rowsPerPage:0},sesionesPagination:{sortBy:"inicio",rowsPerPage:0},cobrosColumns:[{name:"fecha",required:!0,label:"Fecha",align:"left",field:"fecha",sortable:!0,style:"width: 500px"},{name:"operario",required:!0,label:"Operario",align:"left",field:"operario",sortable:!1,style:"width: 500px"},{name:"cliente",required:!0,label:"Cliente",align:"left",field:"cliente",sortable:!0,style:"width: 500px"},{name:"valor",required:!0,label:"Valor",align:"left",field:"valor",sortable:!0,style:"width: 500px"},{name:"valor_promocional",required:!0,label:"Promocional",align:"left",field:"valor_promocional",sortable:!0,style:"width: 500px"}],sesionesColumns:[{name:"inicio",required:!0,label:"Inicio",align:"left",field:"inicio",sortable:!0,style:"width: 500px"},{name:"fin",required:!0,label:"Fin",align:"left",field:"fin",sortable:!1,style:"width: 500px"},{name:"equipo",required:!0,label:"Equipo",align:"left",field:"equipo",sortable:!0,style:"width: 500px"},{name:"cliente",required:!0,label:"Cliente",align:"left",field:"cliente",sortable:!0,style:"width: 500px"},{name:"minutos_consumidos",required:!0,label:"Minutos",align:"left",field:"minutos_consumidos",sortable:!0,style:"width: 500px"},{name:"saldo_consumido",required:!0,label:"Saldo",align:"left",field:"saldo_consumido",sortable:!0,style:"width: 500px"}],cobrosData:[],sesionesData:[],total_cobrado:0,total_promocional:0,total_consumido:0}},methods:{update:function(){var o=this;this.socket.post("/sesionreport",{solicitante:this.usuario.id,inicio:this.inicio,fin:this.fin},function(a,t){200==t.statusCode?(o.cobrosData=a.cobros,o.sesionesData=a.sesiones,o.total_cobrado=a.total_cobrado,o.total_promocional=a.total_promocional,o.total_consumido=a.total_consumido):console.log(a)})},formatCurrency:function(o){return l.format(o)}}},r=n,c=(t("iMBX"),t("KHd+")),d=Object(c["a"])(r,i,e,!1,null,null,null);d.options.__file="SesionReport.vue";a["default"]=d.exports},fAuM:function(o,a,t){var i=t("sdqW");"string"===typeof i&&(i=[[o.i,i,""]]),i.locals&&(o.exports=i.locals);var e=t("SZ7m").default;e("44ca10d2",i,!1,{sourceMap:!1})},iMBX:function(o,a,t){"use strict";var i=t("fAuM"),e=t.n(i);e.a},sdqW:function(o,a,t){a=o.exports=t("I1BE")(!1),a.push([o.i,"",""])}}]);